# python的解释器
1. 官方CPython: C语言开发,最广泛的解释器
2. IPython: 一个交互式,功能增强的Cpython
3. PyPy: Python语言写的Python解释器,JIT(just in time)技术,**动态**编译Python代码
4. Jython: Python的源代码编译成Java的字节码,跑在JVM(java 虚拟机)上
5. IronPython: 与Jython类似,运行在.Net平台上的解释器,Python代码被编译成.Net字节码

# 基础知识
## 字符类型
### 数字
1. 整数
    1. 不区分`long`和`int`
    2. 长度没限制
    3. 进制(十六进制 0x;二进制 0b)
    4. 布尔, True(1), False(0)
2. 浮点型(科学计数法)
    1. 1.23*10<sup>9</sup>等于`1.23e9`
    2. 浮点型计算是不精确的,例如`1.2 - 1`得到0.19999999999999996
        1. 精确小数计算
```
# 定点数(精确小数)
import decimal
a = decimal.Decimal('1.2')
b = decimal.Decimal('1')
print(a - b)
```
### 字符串
1. 使用'或",使用'''或"""可跨行
2. 字符串前加r或者R,表示字符串不做特殊处理(不做转义)

## 基础语法
### 转义字符
1. `\n`换行
2. `\t`制表符
3. `\b`退格BackSpace
4. `\r`回车,当前位置移到本行开头(退格到开头)
5. `\0`代表空字符
6. `\a`系统提示音
### 缩进
1. 4空格缩进
### 续行
1. 在行尾使用\
2. 如果使用各种括号,认为括号内是一个整体,内部跨行不用\
### 标识符
1. 字母,下划线和数字组成
2. 字符或下划线开头
3. 不能是关键字
4. 大小写敏感
### 常量
1. python无法定义常量
### 字面常量
1. 一个单独的量,例如`12,'abc'`(放在内存中固定不变的)
### 变量

## Python语言类型
1. Python是**动态**语言,**强类型**语言
2. 静态编译语言: 事先声明变量类型,类型不能改变,编译时检查
3. 动态编译语言: 不用事先声明类型,随时可以赋值为其他类型,编程时不知道是什么类型
4. 强类型语言: 不同类型之间操作(例如打印),必须转成同一类型
5. 弱类型语言: 不同类型之间可以隐式转换(JS打印)

## 运算符
### 算数运算符
`+ - * / //(整除) % **(幂)`
#### math模块

### 位运算符
`&(与: 都是1才为1,否则为0) |(或: 都是0才为0,否则为1) ~(位运算符非) ^(异或: 相同取0,不同取1) <<(左移) >>(右移)`
1. `~`: 12的二进制为1100,按位取反后为1101,十进制则为-13
1. `&`与: 都是1才为1,否则为0
2. `|`或: 都是0才为0,否则为1
3. `~`非: 按位取反再加1
4. `^`异或: 相同取0,不同取1
5. `<<`左移: 乘以2的x次方,`9<<2`等于`9*4=36`
6. `>>`右移: 除以2的x次方

### 比较运算符
1. `== != > < >= <=`
2. 返回布尔值
3. `1 < '1' Fales`比较数据类型, `1 < 'a' 报错`类型不一致, `'1' > '2' False`比较ASCII码
4. `4 > 3 > 1`链式比较

### 逻辑运算符
1. 与或非`and or not`
2. 短路运算符
    1. and: 如果第一个表达式为False,后面就没必要计算了,则逻辑表达式一定为False
    2. or: 如果第一个表达式True,后面就没有必要计算了,表达式一定为True
### 赋值运算符
1. `a = min(3, 5)`
2. `+= -= *= /= %=`
3. `x = y = z = 1`
### 成员运算符
1. `in, not in`
### 身份运算符
1. `is, is not`

### 原码,反码,补码,负数
#### 原码(对人友好)
1. 5 => 0b101, 1 => 0b1, -1 => -0b1, bin(-1), 在最高位为0时表示正数,最高位为1时表示负数
#### 反码
1. 正数的反码与原码相同
2. 负数的反码**符号位不变**其余按位取反
#### 补码(计算机使用)
1. 正数的补码与原码相同
2. 负数的补码**符号位不变**其余按位取反后加1
#### 负数表示法
1. 数字电路的CPU的运算器实现了加法器,但是没有减法器,减法是转换成加法
2. 负数在计算机中使用补码存储, -1的补码是1111 1111(8位是一个字节)
3. 5-1 => 5+(-1)直觉上是0b101-0b1,其实计算机中是0b00000101 + 0b11111111,溢出位舍弃


## 字符串和编码
### 字符编码
计算机只能处理数字, 如果要处理文字, 就要把文字转换成数字, 最早计算机设计是8个比特(bit)作为一个字节(byte),所以一个字节的最大整数是255,比如两个字节能表示的最大整数是65535

ASCII码指的是字母和一些字符,例如A是65

中国制定GB2312编码,把中文编进去.而其他国家有各自的标准,混合使用会出现乱码

而Unicode统一了所有的编码,Unicode通常用两个字节表示一个字符,而ASCII编码是一个字节

字符`A`的ASCII编码是十进制的65,二进制的`01000001`;<br>
字符`0`的ASCII编码是十进制的48,二进制的`00110000`;<br>
汉字`中`已经超出ASCII编码的范围,用Unicode编码是十进制的20013,二进制的`01001110 00101101`<br>
把ASCII编码的`A`用Unicode表示,只需要在前面补零,然而英文全部用Unicode表示的话需要多一倍的存储空间,所以Unicode出现"可变编码长"->`utf-8`,`utf-8`把Unicode字符根据不同的数字大小编码成1-6个字符,常用的英文字母被编码成1个字节,汉字通常是3个字节,生僻的字符被编码成4-6个字节,因此用utf-8传输英文字符就能节省空间

|字符|ASCII|Unicode|utf-8|
|:-:|:-:|:-:|:-:|
|A|01000001|00000000 01000001|01000001|
|中|x|01001110 00101101|11100100 10111000 10101101|

结论:<br>
在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码<br>
用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8保存到文件

<img src="./images/encode.png" width=50%>

### python字符串
python的字符串类型是str,在内存中是Unicode表示,一个字符对应若干个字节,如果要在网络上传输,或者保存在磁盘中,就需要把str变为以字节为单位的bytes,python对bytes类型的数据用`b`前缀表示,例如
```
x = b'ABC'
```
解码与编码:
```
# b'ABC'
print('ABC'.encode('ascii'))
# 报错,因为ascii不理解中文
print('中'.encode('ascii'))

# b'ABC'
print('ABC'.encode('UTF-8'))
# b'\xe4\xb8\xad'
print('中'.encode('UTF-8'))
```
```
print(b'\xe4\xb8\xad'.decode('utf-8'))
print(b'ABC'.decode('utf-8'))
```

### 字符串的使用
1. `len()`
len计算str的字符数,计算bytes的字节数
```
# 3
print(len(b'\xe4\xb8\xad'))

# 2
print(len('AB'))
```

2. 字符串方法(不改变原字符串)
    1. 查
        1. `str.index(value)`
        2. `str.count(value)`
        3. `str.find(value, a, b)`从下标a-下标b(a,b可选参数)开始获取value的下标,未找到返回-1
        4. `str.isdigit()`判断字符串中是否全部都是数字
        5. `str.isalpha()`判断字符串中是否全部都是字母
        6. `str.endswith(value)`判断字符串是否以value开头
        7. `str.startswith(value)`判断字符串是否以value开头
        8. `str.islower()`
        9. `str.isupper()`
    2. 改(返回新的字符串)
        1. `str.upper()`将字母大写并返回字符串
        2. `str.lower()`
        3. `str.strip()`去除两边空格
        4. `str.lstrip()`
        5. `str.rstrip()`
        6. `str.capitalize()`下标为0的字符大写
        7. `str.title()`将单词首字母大写
        8. `str.split(value, x)`以value为界切割x(可选)次后返回list列表,不填参数默认切割空格
    3. 删
        1. `str.replace(old, new, x)`在字符串中将x个old替换成new
    4. 增
        1. `拼接`

3. 占位符

|占位符|替换内容|
|:-:|:-:|
|%d|整数|
|%f|浮点型|
|%s|字符串|
|%x|十六进制整数|

```
'%s is %d years old,he has %.1f money' %('tom', 1000, 1.1)
>>> tom is 1000 years old,he has 1.1 money
```

4. `format()`
```
'{0}的成绩提升了{1:.1f}分'.format('小明',21,45123)
>>> 小明的成绩提升了21.0分
```

## 使用list和tuple
### list
1. `len()`
2. 增
    1. `l.append(value)`
    2. `l.insert(index, value)`
    3. `l.extend(value)`插入str,list或tuple;(拆开分别插入在最后面)
3. 删
    1. `l.pop(index)`通过索引删除(参数不填则默认为-1)
    2. `l.remove(value)`通过值删除(相同元素只删除第一个)
    3. `l.clear()`全部清除
4. 改
    1. `l[index] = value`
5. 查
    1. `l.index(value)`根据value获取下标(重复则取第一个)
    2. `l.count(value)`根据value获取出现次数
6. 其他方法
    1. `l.copy()`浅拷贝
    2. `l.reverse()`反转
    3. `l.sort(reverse = False)`(参数默认为False)表示从小到大排序
7. 切片
    1. `list1[1:4:1]`
    2. `list1[-2:-4:-1]`

### tuple
1. 一旦初始化则不能修改,所以更加安全
2. `tuple[index]`
3. 查
    1. `t.index(value)`
    2. `t.count(value)`
4. 只有一个元素的tuple必须加逗号来消除歧义
    1. `t = (1, )`
5. 内部如果某个元素是list,则这个list可以被修改

### 不同类型之间转化
`l = list(s)`
`t = tuple(l)`

## 使用dict和set
### dict
1. `d[key]`
    1. 可读可写
2. `d.get(key)`
    1. 返回value或None
3. `key in d`
    1. 返回判断key是否存在,返回布尔值
4. `d.pop(key)`
    1. 移除key和value
5. dict用空间换取查询效率
6. dict的key不可变,这种通过key计算位置的算法称为哈希算法

### set
1. 是key(不可变对象)的集合,但不存储value
2. 创建set时需要list作为输入集合
    1. `s = set([1, 2])`
3. 内部是无序的
4. 重复元素自动被过滤
5. `s.add(key)`
6. `s.remove(key)`
7. `s1 & s2`
    1. 交集
8. `s1 | s2`
    2. 并集

### 对象的可变性
1. 字符串,数字,tuple是不可变对象.而list,dict等是可变对象,不可以作为key保存
2. 修改不可变对象
    1. 使用切片
    2. 修改可变对象(list等)时,内存地址不变
    3. 强行修改不可变对象(字符串,元祖等)时,内存地址被修改

## 函数
1. 默认返回None
2. 返回多个值时实际返回tuple
